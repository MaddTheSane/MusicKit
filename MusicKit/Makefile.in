#
# $Id$
#
# @configure_input@
#
# Build script for the MusicKit on MacOS X. Just calls xcodebuild.
# See GNUmakefile.in for the build process on all other systems.
#
# Leigh Smith <leigh@leighsmith.com>
#
# Copyright (c) 2005, The MusicKit Project.  All rights reserved.
#
# Permission is granted to use and modify this code for commercial and 
# non-commercial purposes so long as the author attribution and copyright 
# messages remain intact and accompany all relevant code.
#

CONFIG = OTHER_CFLAGS="@DEFS@" CONFIGURED_LIBS="@LIBS@" SGMLTRANS="@SGMLTRANS@"
PROJECT = -project MusicKit.xcode
XCODEBUILD = xcodebuild $(PROJECT)

all:
	$(XCODEBUILD) -target "MusicKit (Aggregate)" -buildstyle Development build DSTROOT=/ $(CONFIG)

install:
	$(XCODEBUILD) -target "MusicKit (Aggregate)" -buildstyle Deployment install DSTROOT=/ $(CONFIG)

frameworks:
	$(XCODEBUILD) -target "Frameworks Only (Aggregate)" -buildstyle Embedded install DSTROOT=/ $(CONFIG)

palettes:
	$(XCODEBUILD) -target "Palettes Only (Aggregate)" -buildstyle Deployment install DSTROOT=/ $(CONFIG)

utilities:
	$(XCODEBUILD) -target "Utilities Only (Aggregate)" -buildstyle Deployment install DSTROOT=/ $(CONFIG)

examples:
	$(XCODEBUILD) -target "Examples Only (Aggregate)" -buildstyle Deployment install DSTROOT=/ $(CONFIG)

applications:
	$(XCODEBUILD) -target "Applications Only (Aggregate)" -buildstyle Deployment install DSTROOT=/ $(CONFIG)

documentation:
	$(MAKE) -C Documentation

clean: cleandocs
	$(XCODEBUILD) -target "MusicKit (Aggregate)" clean DSTROOT=/ $(CONFIG)

cleandocs:
	$(MAKE) -C Documentation clean
